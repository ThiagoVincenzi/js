<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    



    <table id="tabela" border="1">
        <thead>
            <tr>
                <th>Produto</th>
                <th>Valor unit√°rio</th>
                <th>Quantidade</th>
                <th>Total do Item</th>

            </tr>
        </thead>

        <tbody id="dados">

        </tbody>
    </table>
    <br>

    <script type="text/javascript">
        window.onload = function () {
            carregaTabela();
        };

        function carregaTabela() {
            let carrinho = lerDados("Carrinho");
            let ValorTotal = 0;
            for (let i = 0; i < carrinho.length; i++) {
                // cria uma linha
                let linha = document.createElement("tr");
                // cria uma coluna
                let coluna = document.createElement("td");
                coluna.textContent = carrinho[i].produto.id;
                // coloca a col=una na linha
                linha.appendChild(coluna);
                //cria nova coluna
                coluna = document.createElement("td");
                coluna.textContent = valor(carrinho[i].produto.valor);
                // soma o total do produto no toral do carrinho
                ValorTotal += (carrinho[i].produto.valor *
                    carrinho[i].qtd);
                //adiciona a coluna na linha       
                linha.appendChild(coluna);
                //cria nova coluna
                coluna = document.createElement("td");
                coluna.textContent = carrinho[i].qtd;
                //adiciona a coluna na linha
                linha.appendChild(coluna);
                //cria nova coluna
                coluna = document.createElement("td");
                coluna.textContent = valor(carrinho[i].produto.valor *
                    carrinho[i].qtd);
                //adciona a coluna na linha
                linha.appendChild(coluna);

                document.getElementById("dados")
                    .appendChild(linha);
            }
            let linha = document.createElement("tr");
            let celula = document.createElement("td");
            celula.textContent = "Total";
            celula.colSpan = 3;
            linha.appendChild(celula);

            celula = document.createElement("td");
            celula.textContent = valor(ValorTotal);
            linha.appendChild(celula);
            document.getElementById("dados").appendChild(linha);

        };
        function atualizar(dados) {
            let linhas = document.getElementById(dados).rows;
            for (let i = linhas.length - 1; i >= 0; i--) {
                document.getElementById(dados).deleteRow(i);
            }
            carregaTabela();
        }
    </script>
    <script src="js/funcoes.js"></script>
</body >
</html >